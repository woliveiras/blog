<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Grunt | Automatizando tarefas | William Oliveira - Desenvolvedor Front End</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <style>
  </style>
  <meta name="description" content="Automatizando tarefas com o Grunt">
<meta property="og:type" content="article">
<meta property="og:title" content="Grunt | Automatizando tarefas">
<meta property="og:url" content="http://woliveiras.com.br/posts/grunt-automatizando-tarefas/index.html">
<meta property="og:site_name" content="William Oliveira - Desenvolvedor Front End">
<meta property="og:description" content="Automatizando tarefas com o Grunt">
<meta property="og:updated_time" content="2016-09-12T00:10:35.395Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Grunt | Automatizando tarefas">
<meta name="twitter:description" content="Automatizando tarefas com o Grunt">
<meta name="twitter:creator" content="@w_oliveiras">
  
    <link rel="alternative" href="/atom.xml" title="William Oliveira - Desenvolvedor Front End" type="application/atom+xml">
  
  
    <link rel="icon" href="img/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25964646-1', 'auto');
  ga('send', 'pageview');

</script>

<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <ul class="navigation">
        <li id="main-nav">
          
            <a class="main-nav-link" href="/">Home</a>
          
            <a class="main-nav-link" href="/about">Sobre</a>
          
            <a class="main-nav-link" href="/colabore-comigo">Colabore</a>
          
            <a class="main-nav-link" href="https://github.com/woliveiras/resume">Resume</a>
          
        </li>
        <li id="sub-nav">
          
            <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed">
            <svg viewBox="0 0 512 512">
                <path d="M201.8 347.2c0 20.3-16.5 36.8-36.8 36.8 -20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8C185.3 310.4 201.8 326.8 201.8 347.2zM128.2 204.7v54.5c68.5 0.7 124 56.3 124.7 124.7h54.5C306.7 285.3 226.9 205.4 128.2 204.7zM128.2 166.6c57.9 0.3 112.3 22.9 153.2 63.9 41 41 63.7 95.5 63.9 153.5h54.5c-0.3-149.9-121.7-271.4-271.6-271.9V166.6L128.2 166.6z"></path>
            </svg>
            </a>
          
        </li>
        <li id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://woliveiras.com.br"></form>
        </li>
      </ul>
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="title">William Oliveira</a>
        
          <span id="subtitle-wrap">
            <a href="/" id="subtitle">Desenvolvedor Front End</a>
          </span>
        
      </h1>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-grunt-automatizando-tarefas" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Grunt | Automatizando tarefas
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Todo processo de desenvolvimento possui algumas tarefas repetitivas como testes, minificação de arquivos, concatenação de arquivos para conseguir modularizar algo, etc.<a id="more"></a></p>
<h3 id="O-que-e-o-Grunt"><a href="#O-que-e-o-Grunt" class="headerlink" title="O que é o Grunt?"></a>O que é o Grunt?</h3><p>O Grunt é um automatizador de tarefas. Você configura de acordo com o seu <a href="https://pt.wikipedia.org/wiki/Fluxo_de_trabalho" title="Fluxo de trabalho" target="_blank" rel="external">Workflow</a> e deixa ele fazendo essas tarefas repetificas para você. <a href="http://gruntjs.com/" title="Gruntjs" target="_blank" rel="external">Mais detalhes sobre o Gruntjs aqui.</a>.</p>
<h3 id="Instalacao"><a href="#Instalacao" class="headerlink" title="Instalação"></a>Instalação</h3><p>Será necessário possuir o Node.js e o NPM instalados em sua máquina. Se não possuir o Nodejs instalado eu recomendo seguir esse tutorial para instalar com o NVM, um <a href="https://pt.wikipedia.org/wiki/Wrapper" title="O que é um Wrapper" target="_blank" rel="external">wrapper</a> para a instalação do Node com separação de versões, parecido com o <a href="https://virtualenv.pypa.io" title="Virtualenv Python" target="_blank" rel="external">Virtualenv</a>.</p>
<p>Depois disso você precisa instalar o cliente por linha de comando do Grunt:</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g grunt-<span class="keyword">cli</span></div></pre></td></tr></table></figure>
<p>Como você percebe, foi instalado o <strong>grunt-cli</strong> não o <strong>grunt</strong>. O grunt-cli é uma interface que disponibiliza os comandos Grunt pelo terminal a partir de qualquer local.</p>
<p>Esse <strong>-g</strong> avisa para o NPM que a instalação deve ser Global, isso significa que ele não será instalado somente para um projeto, mas sim em sua máquina, estando disponível sempre que precisar rodando o comando <strong>grunt</strong>. Esse comando irá configurar o seu <em><a href="http://www.vivaolinux.com.br/artigo/O-que-e-PATH-como-funciona-e-como-trabalhar-com-ele" title="O que é $PATH" target="_blank" rel="external">$PATH</a></em> e nós podemos prosseguir.</p>
<p>Agora é necessário configurar as tarefas que o Grunt irá executar.</p>
<h3 id="Configurando-as-tarefas"><a href="#Configurando-as-tarefas" class="headerlink" title="Configurando as tarefas"></a>Configurando as tarefas</h3><h4 id="Package-json"><a href="#Package-json" class="headerlink" title="Package.json"></a>Package.json</h4><p>Primeiro, <strong>no diretório do seu projeto</strong>, será necessário possuir o <strong>package.json</strong>, aquele arquivinho de dependências do NPM, pois todo plugin do Grunt que você instalar precisa ser referenciado como dependência nesse arquivo. Isso vai diminuir muito seu trampo depois, pois só com um comando <strong>npm install</strong> será tudo instalado, ao invés de ficar rodando tudo de novo.</p>
<p>Você pode criar manualmente esse arquivo com o <del>Sublimetext</del> seu editor de textos favorito ou rodar o comando:</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> init</div></pre></td></tr></table></figure>
<p>Feito isso você pode instalar os plugins no seu projeto (Instalação Local).</p>
<p>Um exemplo de instalação de Plugin (Não precisa fazer isso agora):</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install grunt-contrib-cssmin --<span class="built_in">save</span>-<span class="built_in">dev</span></div></pre></td></tr></table></figure>
<p>Com isso, o plugin seria instalado na pasta do seu projeto e ficaria salvo como dependência no package.json. Isso por que você passou o parâmetro <strong>–save-dev</strong>.</p>
<p>Para que o Grunt funcione, você precisa telo instalado no projeto (Você tem uma instalação Global do cliente via terminal com o -g e agora vai instalar o Grunt localmente), para isso execute o comando:</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install grunt --<span class="built_in">save</span>-<span class="built_in">dev</span></div></pre></td></tr></table></figure>
<h4 id="Gruntfile-js"><a href="#Gruntfile-js" class="headerlink" title="Gruntfile.js"></a>Gruntfile.js</h4><p>Depois disso, temos tudo pronto para começar a baixar os plugins e configurar o Grunt para rodar eles. A configuração das tarefas do Grunt ficam no arquivo <strong>Gruntfile.js</strong> e você pode criar ele, também, no <del>Sublime</del> seu editor favorito ou com o comando <strong>grunt init</strong>.</p>
<p>Um exemplo de configuração básica do arquivo é o seguinte:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">grunt</span>) </span>&#123;</div><div class="line"><span class="comment">// Configuração do Projeto</span></div><div class="line">grunt.initConfig(&#123;</div><div class="line">    pkg: grunt.file.readJSON(<span class="string">'package.json'</span>),</div><div class="line">    uglify: &#123;</div><div class="line">      options: &#123;</div><div class="line">        banner: <span class="string">'/*! &amp;lt;%= pkg.name %&amp;gt; &amp;lt;%= grunt.template.today("yyyy-mm-dd") %&amp;gt; */\n'</span></div><div class="line">      &#125;,</div><div class="line">    build: &#123;</div><div class="line">      src: <span class="string">'src/&amp;lt;%= pkg.name %&amp;gt;.js'</span>,</div><div class="line">      dest: <span class="string">'build/&amp;lt;%= pkg.name %&amp;gt;.min.js'</span></div><div class="line">    &#125;</div><div class="line"> &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Carrega o Plugin para executar a tarefa "uglify"</span></div><div class="line">grunt.loadNpmTasks(<span class="string">'grunt-contrib-uglify'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Tarefas</span></div><div class="line">grunt.registerTask(<span class="string">'default'</span>, [<span class="string">'uglify'</span>]);</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>A linha <strong>grunt.initConfig(config)</strong> especifica onde iniciam as configurações das tarefas.</p>
<p>Todo plugin instalado, deve ser carregado, como mostrado na expressão: <strong>grunt.LoadNpmTask(‘grunt-contrib-uglify’);.</strong></p>
<p>As tarefas que serão executadas com o comando <em>grunt (sem passar nenhum parâmetro)</em> no terminal são registradas como na expessão <strong>grunt.registerTask(‘default’, [‘uglify’]);</strong> onde foi configurado a tarefa <strong>‘default’</strong> (que é executada automaticamente com o comando grunt) que, nesse caso, chamou uma tarefa uglify, mas da para chamar várias ao mesmo tempo.</p>
<p>Se você quisesse executar somente a tarefa uglify, poderia rodar o comando grunt com o parâmtro uglify:</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">grunt uglify</span></div></pre></td></tr></table></figure>
<p>Se existisse outra tarefa com o nome <em>cssmin</em>, você executaria <em>grunt cssmin</em> ou configuraria a tarefa ‘default’ para chamar também a cssmin:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">grunt<span class="selector-class">.registerTask</span>(<span class="string">'default'</span>, [<span class="string">'uglify'</span>, <span class="string">'cssmin'</span>]);</div></pre></td></tr></table></figure>
<p>Um exemplo completo de arquivo Gruntfile.js e, também, do package.json pode ser encontrado aqui no meu boilerplate, o Pastel: <a href="https://github.com/woliveiras/pastel" target="_blank" rel="external">https://github.com/woliveiras/pastel</a></p>
<h3 id="Dica-O-que-e-instalacao-Local-e-Global"><a href="#Dica-O-que-e-instalacao-Local-e-Global" class="headerlink" title="Dica: O que é instalação Local e Global?"></a>Dica: O que é instalação Local e Global?</h3><p>Global é a instalação do Plugin em seu sistema operacional. Assim ele fica disponível em qualquer projeto bastando executar o comando respectivo, como exemplo do <a href="http://woliveiras.com.br/posts/olha-o-passarinho-falando-sobre-o-bower/" title="Olha o passarinho! (Falando sobre o Bower)">Bower</a>.<br>Local é a instalação do plugin em seu projeto - Na pasta do seu projeto.<br>Todo projeto criado deverá possuir os plugins instalados localmente para funcionar.</p>
<p>Ai vem a duvida: Mas pra que ficar instalando localmente e sobrecarregando o HD do meu PC se eu posso instalar uma vez só Globalmente e usar em todos os projetos?</p>
<p>A resposta é: Imagine que você usa a versão 1.0 de determinado plugin em todos os seus projetos. Meses se passam e você agora utiliza a versão 2.0 onde muita coisa mudou e, de repente, você precisa mexer em um projeto antigo. A tarefa configurada não vai funcionar, você vai ter de configurar de novo.</p>
<p>Você pode pensar: Tá, mas é só copiar o Gruntfile.js de um projeto novo para um antigo. Sim! Isso se for para um projeto, para um plugin, imagina esse cenário acontecendo para diversos projetos e vários plugins.</p>
<p>Portanto é melhor instalar os plugins localmente e com o comando –save-dev para salvar como dependência e deixar mais fácil a próxima instalação. ;)</p>
<p>Para conhecer alguns plugins maneiros, da uma olhada no meu projeto - O Pastel - e olha esse <a href="http://gruntjs.com/plugins" title="Grunt plugins" target="_blank" rel="external">link também</a></p>
<p>Um exemplo de pesquisa para esse site seria pesquisar por <strong>css</strong> e os plugins que tem relação com CSS irão aparecer.</p>
<p>Referências:</p>
<p><a href="http://gruntjs.com/getting-started" target="_blank" rel="external">http://gruntjs.com/getting-started</a></p>
<p><a href="http://simplesideias.com.br/usando-gruntjs" target="_blank" rel="external">http://simplesideias.com.br/usando-gruntjs</a></p>
<p><a href="http://blog.caelum.com.br/automacao-de-build-de-front-end-com-grunt-js/" target="_blank" rel="external">http://blog.caelum.com.br/automacao-de-build-de-front-end-com-grunt-js/</a></p>
<p>Curtiu o Grunt? Comenta ai quais plugins está usando. Deixe sua contribuição para melhorar ainda mais nosso Workflow. ;)</p>

      
    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/plugins-sublime-text-para-desenvolvimento-web/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Póximo</strong>
      <div class="article-nav-title">
        
          Plugins do Sublime Text para Desenvolvimento Web
        
      </div>
    </a>
  
  
    <a href="/posts/instalacao-ambiente-lamp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Anterior</strong>
      <div class="article-nav-title">Instalação do ambiente LAMP</div>
    </a>
  
</nav>


  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
      </div>
      <footer id="footer">
      <div class="contact-icons">
	<a href="https://www.facebook.com/woliveira542"  target="_blank">
		<i class="ico facebook"  target="_blank"></i>
	</a>
	<a href="https://twitter.com/w_oliveiras"  target="_blank">
		<i class="ico twitter"  target="_blank"></i>
	</a>
	<a href="https://br.linkedin.com/in/woliveira542"  target="_blank">
		<i class="ico linkedin"  target="_blank"></i>
	</a>
	<a href="https://github.com/woliveiras"  target="_blank">
		<i class="ico github"></i>
	</a>
</div>
  <div id="footer-info">
    <div class="outer">
      &copy; 2016 Escrito com o <3 por William de Oliveira Desenvolvido com o <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about" class="mobile-nav-link">Sobre</a>
  
    <a href="/colabore-comigo" class="mobile-nav-link">Colabore</a>
  
    <a href="https://github.com/woliveiras/resume" class="mobile-nav-link">Resume</a>
  
</nav>
    
    <script>
      var disqus_shortname = 'woliveiras';
      
      var disqus_url = 'http://woliveiras.com.br/posts/grunt-automatizando-tarefas/';
      
      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>


  </div>
</body>
</html>
